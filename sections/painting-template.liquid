{%- liquid

  assign show_sku = settings.product_show_sku
  assign show_vendor = settings.product_show_vendor
  assign show_quantity = settings.product_show_quantity
  assign show_payment_button = settings.product_show_payment_button
  assign current_variant = product.selected_or_first_available_variant
  
  
  
  assign artist_name = product.metafields.Instructor.name.value
  assign artist_handle = product.metafields.Instructor.name.value | downcase | replace: ' ', '-'
  assign artist_url = collections[artist_handle].url
-%}


<div id="product-{{ product.id }}"
class="product__section product-template prod-{{ section.id }}"
data-product-id="{{ product.id }}"
data-section-id="{{ section.id }}"
data-section-type="product__section"
data-initial-variant="{{ current_variant.featured_media.id }}">

  {% render 'product-json', product: product %}

  <div class="row grid_wrapper">
    {% render 'breadcrumb' %}

    {%- liquid

      case section.settings.image_section_size
        when 'small'
          assign image_width = 'span-5 push-1 md-span-6 sm-span-12 auto'
          assign descr_width = 'span-5 md-span-6 sm-span-12 auto'
        when 'medium'
          assign image_width = 'span-6 sm-span-12 auto'
          assign descr_width = 'span-6 sm-span-12 auto'
        when 'large'
          assign image_width = 'span-8 md-span-6 sm-span-12 auto'
          assign descr_width = 'span-4 md-span-6 sm-span-12 auto'
      endcase

      if section.settings.image_options == 'static'
        assign gallery_data = 'data-static-gallery'
        assign gallery_type = 'static'
      else
        assign gallery_data = 'data-scroll-gallery'
        assign gallery_type = 'scroll'
      endif

      assign thumbnail_position = section.settings.thumbnail_position
      assign click_to_enlarge = section.settings.click_to_enlarge
      assign enable_video_looping = section.settings.enable_video_looping

    -%}

    {% capture product_gallery_config %}{
      "thumbPosition": {{ section.settings.thumbnail_position | json }},
      "thumbsShown": {{ section.settings.thumbs_to_show | json }},
      "clickToEnlarge": {{ section.settings.click_to_enlarge | json }},
      "enableVideoLooping": {{ section.settings.enable_video_looping | json }},
      "navStyle": {{ section.settings.slide_controls | json }},
      "mainSlider": {% if product.media.size <= 1 %}false{% else %}true{% endif %},
      "thumbSlider": {% if product.media.size >= 4 %}true{% else %}false{% endif %},
      "productId": {{ product.id | json }},
      "isQuick": false
    }{% endcapture %}

      <div class="product__section-images product-{{ product.id }} {{ image_width }}{% if gallery_type == 'static' %} carousel-container{% endif %} js-product-gallery"
           data-product-single-media-group data-gallery-config='{{ product_gallery_config }}'
           {{ gallery_data }}>

          {% if product.featured_media and gallery_type == 'static' %}
          	{% render 'product-static-gallery',
              product: product,
              thumbnail_position: thumbnail_position,
              click_to_enlarge: click_to_enlarge,
              enable_video_looping: enable_video_looping,
              thumbs_to_show: section.settings.thumbs_to_show %}

          {% elsif product.featured_media and gallery_type == 'scroll' %}
          	{% render 'product-scroll-gallery',
              product: product,
              thumbnail_position: thumbnail_position,
              click_to_enlarge: click_to_enlarge,
              enable_video_looping: enable_video_looping %}
          {% else %}
            {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
            {{ 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
      </div>

    	<div class="product__section-content {{ descr_width }}">
        <div class="product__section-details {% if section.settings.image_options == 'scroll' %} is_sticky{% endif %}">
          <div class="product__section-title section-title">
            <h1>{{ product.title }}</h1>
            
            <br>
            <div style="display: flex; flex-flow: row wrap; align-items: center;">      
              

            	{% for collection_name in product.collections %}
                {% if collection_name.handle == 'made-to-order-hand-painted-paintings' %}
            		  <span class=tags3>Made To Order</span>
                  <span class=tags3>Ships Worldwide</span>
                {% endif %}
                {% if collection_name.handle == 'ready-to-ship-handmade-paintings' %}
                  <span class=tags3>In Stock</span>
            		  <span class=tags3>Ready To Ship</span>
                  <span class=tags3>Ships in 7 Days</span>
                {% endif %}
            	{% endfor %}
            </div>
            {% if collections[artist_handle] != "" %}
              <a href="{{ artist_url }}">
                  <div class="instructor-icon-container">
                  {% if  collections[artist_handle].image != ""%}
                    {{ collections[artist_handle] | image_url: width: 100 | image_tag: class: "instructor-icon" }}
                  {% else %}
                    <img  loading="lazy" class="instructor-icon" style="border: 2px;" height="100" width="100" class="container__image" src="https://cdn.shopify.com/s/files/1/1194/1498/files/placeholder_image.jpg?v=1672304594">
                  {% endif %}
                  <span class="instructor-icon-title">{{ artist_name }}</span>
                  </div>
              </a>
            {% endif %}
          </div>
          <div class="artwork-info">

            {% if product.metafields.artwork.artwork_size != blank %}
              <b>Size :</b> {{ product.metafields.artwork.artwork_size }}<br>
            {% endif %}

            {% if product.metafields.artwork.artwork_dimension != blank %}
              <b>Dimensions :</b> {{ product.metafields.artwork.artwork_dimension }}
            {% endif %}
            
            {% if  product.metafields.artwork.colour != blank and product.metafields.artwork.canvas != blank %}
              <br><b>Medium : </b>{{ product.metafields.artwork.colour }} on {{ product.metafields.artwork.canvas }}
            {% endif %}
          </div>
          {% capture description %}
            <div class="accordion"> About the Artwork <i class="p2">+</i></div>
<div class="panel">
  <p>{{ product.description }}</p>
</div>
<hr>

<div class="accordion">Authentication <i class="p2">+</i></div>
<div class="panel">
  <p>Each of our artworks are hand painted by master artists across India. We provide an authentication certificate with this artwork signed by the artist.</p>
</div>
<hr>
<div class="accordion">Sizes and Customisation <i class="p2">+</i></div>
<div class="panel">
  <p>We take custom artwork orders, please use the WhatsApp chat below or email us at <a href = "mailto: wecare@memeraki.com">wecare@memeraki.com</a> to discuss your requirements in more detail. The sizes mentioned are excluding the borders of the artwork.</p>
</div>
<hr>
<div class="accordion">International Shipping and Taxes <i class="p2">+</i></div>
<div class="panel">
  <p>We ship worldwide, shipping charges of 2000 INR are applicable for international orders. Our Prices are inclusive of GST/Taxes. No additional charges are applicable for domestic deliveries.</p>
</div>
<hr>
<div class="accordion">Shipping and Returns <i class="p2">+</i></div>
<div class="panel">
  <p>All artworks are packed and couriered securely in a tube.</p> 
  <p><b>Ready To Ship/ In Stock</b> artworks are shipped in under 2 weeks. We only accept return requests for Ready to Ship/ In stock artworks placed within a week from date of delivery. </p>
  <p><b>Made To Order</b> artworks will take 2-3 weeks to be made and shipped once they are ready. Returns are not applicable on Made To Order artworks.</p>
</div>
<hr>
<div class="accordion">Colour Disclaimer<i class="p2">+</i></div>
<div class="panel">
  <p>As all artworks are made to order, that makes every artwork absolutely unique and the actual colour and overall artwork may vary slightly from the artwork image posted here.</p>
</div>
<hr>
{% endcapture %}
        

          {% if show_vendor %}
            <h3>{{ 'products.product.designer' | t }}: {{ product.vendor }}</h3>
            <div class="clear"></div>
          {% endif %}
          <br>
          <div class="talk-to-expert-container">
              <button id="talk-to-expert" onClick="gsc('show', 274004)">Talk to Our Art Expert</button>
          </div>
          {% unless product.template_suffix == 'not-for-sale' %}

            {% capture product_form_config %}
             { "money_format": {{ shop.money_format | json }},
               "enable_history": true,
               "sold_out": {{ "products.product.sold_out" | t | json }},
               "button": {{ 'products.product.add_to_cart' | t | json }},
               "unavailable": {{ 'products.product.unavailable' | t | json }},
               "quickview": {% if template == 'product.quick' %}true{% else %}false{% endif %},
               "featured_product": false
             }
             {% endcapture %}

            <div class="product-form">
              {% render 'product-form',
                product: product,
                product_form_config: product_form_config,
                current_variant: current_variant,
                product_type: 'product',
                show_sku: show_sku,
                show_quantity: show_quantity,
                show_payment_button: show_payment_button %}
            </div>
          {% endunless %}

           <div class="clear"></div>
           <div class="product-single__store-availability-container" data-store-availability-container>
           </div>
           <div class="clear"></div>

          {% if product.description contains '[#size]' or product.description contains '[#other]' %}
            <div class="product-extra">
              {% if section.settings.show_product_size_chart and product.description contains '[#size]' %}
                {% assign shortcode_description = product.description | split: '[/size]' | first | split: '[#size]' | last %}
                <button class="d-as-link js-modal-open" type="button" name="button" data-wau-modal-target="product-size-chart">{{ 'products.product.sizing' | t }}</button>
                  <div data-wau-modal-content="product-size-chart" style="display: none;">
                    {{ shortcode_description }}
                  </div>
              {% endif %}
              {% if section.settings.show_product_model and product.description contains '[#other]' %}
              <button class="button-as-link js-modal-open" type="button" name="button" data-wau-modal-target="product-model">{{ 'products.product.model' | t }}</button>
                  <div data-wau-modal-content="product-model" style="display: none;">
                    {% assign shortcode_description = product.description | split: '[/other]' | first | split: '[#other]' | last %}
                    {{ shortcode_description }}
                  </div>
              {% endif %}
            </div>
          {% endif %}

          {% if section.settings.product_description_position == 'below' %}
            <div class="clear"></div>
            {{ description }}
          {% endif %}
          <div class="clear"></div>

        </div>
      </div>
  </div><!-- Close the wrapper / container allowing full width layout for lower  container -->
  {%- if section.settings.show_social_share -%}
    {% render 'social' with product %}
  {%- endif -%}
  {%- liquid

    if section.settings.lower_description == 'large'
      assign lower = 'span-12 auto'
    elsif section.settings.lower_description == 'medium'
      assign lower = 'span-8 push-2 md-span-12 sm-span-12 auto'
    elsif section.settings.lower_description == 'small'
      assign lower = 'span-6 push-3 md-span-12 sm-span-12 auto'
    endif

  -%}

  {% if section.settings.product_description_position == 'bottom' or product.description contains '<!-- split -->' %}
    <div class="clear"></div>

    <div class="full-width-container">
      <div class="row grid_wrapper">
          <div class="mobile-3 {{ lower }}" data-aos="{{ settings.scroll_animation }}">
            <div class="section-title">
              <h3>{{ 'products.product.details' | t }}</h3>
            </div>
            <div class="rte">
              {% if section.settings.product_description_position == 'bottom' %}
              {{ description }}
              {% endif %}
              {% if product.description contains '<!-- split -->' %}
              <br />
              {{ product.description | split: '<!-- split -->' | last }}
              {% endif %}
            </div>
          </div>
      </div>
    </div>
  {% endif %}
  <div class="clear"></div>
  
<script>

var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    this.style = "font-weight: bold";
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
      this.style = "font-weight: normal";
    } else {
      panel.style.display = "block";
    }
  });
}
</script>

<style>
  {% comment %} Instructor Icon CSS {% endcomment %}
  .instructor-icon-container{
    display: flex; 
    font-size: 14px;
    font-weight: bold;
    margin-top: 10px;
  }
  .instructor-icon{
    height: 40px;
    width: 40px;
    border-radius: 20px;
    margin-right: 12px;
  }
  .instructor-icon-title{
    align-self: center;
  }
  {% comment %} Instructor Icon CSS Ends {% endcomment %}
  #talk-to-expert{
    width:280px;
    font-weight: bolder;
    background-color: #f4cb28;
    margin-bottom: 0px;
    margin-top: 8px;
    padding-bottom: 0px;
    
  }      
  @media screen and (max-width: 900px) {
    #talk-to-expert{
      width:280px;
    }
    .talk-to-expert-container{
       display: flex; 
       align-items: center; 
       justify-content: center; 
    }
  }
  @media screen and (max-width: 750px) {
    #talk-to-expert{
      width:225px;
    }
    .talk-to-expert-container{
       display: flex; 
       align-items: center; 
       justify-content: center; 
    }
  }
  @media screen and (max-width: 500px) {
    .talk-to-expert-container{
       display: flex; 
       align-items: center; 
       justify-content: center; 
    }
  }
  .accordion {
    background-color: white;
    color: #444;
    cursor: pointer;
    padding: 0 18px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
    transition: 0.4s;
    margin-bottom: 10px;
  }
  .accordion i{
      position: relative;
      float: right;
  }
  
  .accordion:hover {
    color: #f4cb28;
    background-color: white;
    font-weight: bold;
  }
  
  .panel {
    padding: 0 18px;
    display: none;
    background-color: white;
    overflow: hidden;
  }
  
  
.drop{
  padding: 10px 15px;
  text-decoration: none;
  color: #555;
  transition: all 0.2s linear;
  border-bottom: 1px solid #555;   
}

.menu-title {
  font-weight: bold;
}

.menu-button {
      cursor: pointer;
      border: 1px solid red;
      border-radius: 10px;
   
}

.drop i{
      position: relative;
      float: right;
}
  
.menu-content {
      display: none;
      padding: 10px 0px;
      margin: 0;
      color: #333;
}
  
.tags3{
  font-family: 'Lato', sans-serif;
  padding-left: 9px;
  padding-right: 9px;
  margin-bottom: 5px;
  border-width: 2px; 
  border-radius: 17px; 

  background-color: #380433;
  color: white; 
  text-align: center; 
  height: 32px;
  display: flex; 
  justify-content: center;
  align-items: center;
  margin-right: 10px ;
}
.main-heading:hover {
  font-weight: bold;
  color: #f4cb28;
  cursor: pointer;
}
  {% if section.settings.description_background != 'rgba(0,0,0,0)' %}
    :root {
      --color-body: {{ section.settings.description_background }};
    }
    .product__section-details {
      background: {{ section.settings.description_background }};
    }
  {% endif %}
  {% if section.settings.product_description_position == 'bottom' or product.description contains '<!-- split -->' %}
  .full-width-container {
    background: {{ section.settings.lower_description_background }};
    padding: 40px 0;
    margin-top: 20px;
    margin-bottom: 20px;
  }
  {% endif %}

  {% if section.settings.image_options == 'static' %}
    {% case section.settings.thumbnail_position %}
      {% when 'below' %}
      #product-{{ product.id }} .thumb-slider-slides {
        transition: left 0.5s ease-in-out;
      }
        .product-thumbnails {
          margin-top: 10px;
          padding: 0 30px;
        }
        .product-thumbnail {
          padding: 10px;
        }
      {% else %}
        #product-{{ product.id }} .thumb-slider-slides {
          transition: top 0.5s ease-in-out;
        }
    {% endcase %}
  {% elsif section.settings.image_options == 'scroll' %}
    .product-main-images {
        margin-bottom: -20px! important;
    }
  {% endif %}
  {% if section.settings.product_description_position != 'below' %}
    .product__section-details form {
      border-bottom: 0;
      margin-bottom: 0;
    }
    .add {
      margin-bottom: 8px! important;
    }
    {% endif %}
    {% if section.settings.show_banner == false and settings.breadcrumb == false %}
    .product__section { margin-top: 30px; }
    {% endif %}

  </style>
</div>
<script type="application/json" id="ModelJson-{{ section.id }}">
  {{ product.media | where: 'media_type', 'model' | json }}
</script>
<script>  
  async function postReqestPlannerData(url, data) {
    const response = await fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'accept': '*/*'
        },
        body: data
    })
    .then((response) => response)
    .then((data) => {
    console.log('Success:', data);
    })
    .catch((error) => {
    console.error('Error:', error);
    });;
    return response; 
  }

  window.gsc=window.gsc||function(){
    (gsc.q=gsc.q||[]).push(arguments)
  };

  gsc('onSubmit', function(widgetId, data) {
    if (widgetId === 274004){
      var body = `{
        "name": "${data.name}",
        "email": "${data.email}",
        "countryCode": "${data.countryCode}",
        "phoneNumber":${data.Phone},
        "productName": "{{ product.title }}",
        "productURL": "https://www.memeraki.com{{ product.url }}",
        "productImageURL": "https:{{ product.featured_image | image_url }}"
      }`;
      console.log(postReqestPlannerData('https://fb7a58ae-41dc-454f-9c44-49f353b4c968-prod.e1-us-east-azure.choreoapis.dev/qugi/requestartplanner/1.0.0/newLead',body)); 
    }
  })
</script>

{% schema %}
{
    "name": "Product Page",
    "max_blocks":5,
    "settings": [
      {
        "type":"header",
        "content":"Media"
      },
      {
        "type": "checkbox",
        "id": "click_to_enlarge",
        "label": "Enable click to enlarge",
        "default": true
      },
      {
        "type": "select",
        "id": "image_section_size",
        "label": "Gallery size",
        "options": [
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "large",
            "label": "Large"
          }
        ],
        "default":"medium"
      },
      {
        "type": "select",
        "id": "image_options",
        "label": "Gallery type",
        "options": [
          {
            "value": "static",
            "label": "Slideshow with thumbnails"
          },
          {
            "value": "scroll",
            "label": "Scroll gallery"
          }
        ]
      },
      {
        "type":"header",
        "content":"Slideshow"
      },
      {
        "type": "select",
        "id": "thumbnail_position",
        "label": "Slideshow thumbnail position",
        "options": [
          {
            "value": "right",
            "label": "Right"
          },
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ]
      },
      {
        "type": "range",
        "id": "thumbs_to_show",
        "min": 0,
        "max": 6,
        "step": 1,
        "label": "Thumbnail images to show",
        "default": 3,
        "info":"Set to 0 to show a slideshow without thumbnails"
      },
      {
        "type": "select",
        "id": "slide_controls",
        "label": "Slider control style",
        "default": "arrows",
        "options": [
          {
            "value": "arrows",
            "label": "Arrows"
          },
          {
            "value": "dots",
            "label": "Dots"
          }
        ]
      },
      {
        "type":"header",
        "content":"Video"
      },
      {
        "type": "checkbox",
        "id": "enable_video_looping",
        "label": "Enable video looping",
        "default": false
      },
      {
        "type": "paragraph",
        "content": "Learn more about [Media types](https:\/\/help.shopify.com/en\/manual\/products\/product-media\)"
      },
      {
        "type":"header",
        "content":"Form options"
      },
      {
        "type": "color",
        "id":"description_background",
        "label":"Background color"
      },
      {
        "type": "checkbox",
        "id": "back_in_stock",
        "label": "Show back in stock form",
        "default": true
      },
      {
        "type": "richtext",
        "id": "back_in_stock_text",
        "label": "Back in stock text",
        "default": "<p>Email me when this is available</p>"
      },
      {
       "type": "checkbox",
       "id": "show_social_share",
       "label": "Show social share icons",
       "default": false
      },
      {
       "type":"header",
       "content":"Content options"
      },
      {
       "type": "select",
       "id": "product_description_position",
       "label": "Product description position",
       "options": [
         {
           "value": "below",
           "label": "Beneath product options"
         },
         {
           "value": "bottom",
           "label": "Below images and options"
         }
       ]
      },
      {
       "type": "select",
       "id": "lower_description",
       "label": "Lower description size",
       "options": [
         {
           "value": "small",
           "label": "Small"
         },
         {
           "value": "medium",
           "label": "Medium"
         },
         {
           "value": "large",
           "label": "Large"
         }
       ]
      },
       {
         "type": "color",
         "id":"lower_description_background",
         "label":"Background color"
       },
       {
          "type": "header",
          "content": "Product Shortcode Popups"
        },
        {
          "type": "paragraph",
          "content": "Use shortcodes in your product description to show links to popups with unique product specific content. [Learn more](https:\/\/support.weareunderground.com\/article\/260-mr-parker-theme-product-shortcode-popups)"
        },
        {
          "type": "checkbox",
          "id": "show_product_size_chart",
          "label": "Show product size",
          "info": "Use shortcode [#size][/size]",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "show_product_model",
          "label": "Show product fit/care",
          "info": "Use shortcode [#other][/other]",
          "default": false
        }
      ],
    "max_blocks": 5,
    "blocks":[
    {
      "type":"description",
      "name":"Product Description",
      "limit": 1,
      "settings":[]
    },
    {
      "type":"text",
      "name":"Terms and Conditions",
      "settings":[
        {
          "type": "text",
          "id": "terms_heading",
          "label": "Heading",
          "default": "Terms and Conditions"
        },
		{
          "type": "richtext",
          "id": "liveterms",
          "label": "Live Terms and Conditions",
          "default": "<p>Enter the Terms and Conditions for live workshops here.</p>"
        },
		{
		  "type": "richtext",
          "id": "recterms",
          "label": "Recording Terms and Conditions",
          "default": "<p>Enter the Terms and Conditions workshop recordings here.</p>"
		}

    	]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "description"
      },
	  {
		"type": "text"
	  }
    ]
  }
}
{% endschema %}

{%comment%}
         {
          "type": "richtext",
          "id": "terms",
          "label": "Content",
          "default": "<p>Enter the Terms and Conditions and here.</p>"
        },


				{
          "type": "checkbox",
          "id": "isrecording",
          "label": "Recording",
          "info": "Check this box if this is a recording of a live workshop.",
          "default": false
        }
{%endcomment%}
